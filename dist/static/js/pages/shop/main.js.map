{"version":3,"sources":["webpack:///./src/pages/shop/main.js","webpack:///./src/pages/shop/shop.vue","webpack:///./src/pages/shop/shop.vue?f421","webpack:///src/pages/shop/shop.vue","webpack:///./src/pages/shop/shop.vue?ed39"],"names":["app","$mount","config","navigationBarTitleText"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,MAAMA,MAAM,IAAI,2CAAJ,CAAQ,sDAAR,CAAZ;AACAA,IAAIC,MAAJ;;AAEe;AACXC,UAAQ;AACNC,4BAAwB;AADlB;AADG,CAAf,E;;;;;;;;ACNA;AAAA;AAAA;AACA;AACA;AACA,EAAE,mBAAO,CAAC,EAAyf;AACngB;AACA,yBAAyB,mBAAO,CAAC,CAA8D;AAC/F;AAC0H;AAC1H;AACuU;AACvU;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,kIAAc;AAChB,EAAE,gRAAgB;AAClB;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,IAAI,KAAU,GAAG;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAEc,0EAAiB;;;;;;;;AC3ChC,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuJA;AACA,gBADA;;AAKA;AACA;AACA,uDADA;AAEA,gBAFA;AAGA,yCAHA;AAIA,mBAJA;AAKA,iBALA;AAMA;AACA,sBAPA;AAQA,qBARA;AASA,qBATA;AAUA,iBAVA;AAWA;AACA,uBADA;AAEA,iBAFA;AAGA;AAHA,OAXA;AAgBA;AACA,kBAjBA;AAkBA,kBAlBA;AAmBA;AAnBA;AAqBA,GA3BA;AA4BA;AACA;AACA,+DACA,gBADA,EAEA,eAFA;AAGA,KALA;AAMA;AACA,wBACA,uDADA,EAEA,eAFA;AAGA,KAVA;AAWA;AACA;AAEA,KAdA;AAeA;AACA;AACA;AACA,KAlBA;AAmBA;AACA;AACA;AACA;AACA;AACA,KAxBA;AAyBA;AACA;AACA;AACA;AACA,qBADA;AAEA,uBAFA;AAGA;AAHA;AAKA,KAjCA;AAkCA;AACA;AACA;AACA,KArCA;AAsCA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA,qBADA;AAEA,0CAFA;AAGA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AAVA;AAYA;AACA,KAzDA;AA0DA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,wCADA;AAEA,oCAFA;AAGA;AACA;AACA;AACA,aAFA,MAEA;AACA;;AAEA;AACA;AAVA;AAYA;AAEA,KA9EA;AA+EA;AACA;AACA;AACA;AACA,kBADA;AAEA,wBAFA;AAGA,oBAHA;AAIA;AACA;AADA,WAJA;AAOA;AACA;AACA;AACA,WAVA;AAWA;AACA;AACA;AAbA;AAeA,OAhBA;AAiBA,KAlGA;AAmGA;AACA;AACA;AACA;AACA,kBADA;AAEA;AACA;AACA;AACA,WALA;AAMA;AACA;AACA;AARA;AAUA,OAXA;AAYA,KAjHA;AAkHA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA,uCAJA,CAIA;AACA;AACA;AACA;AACA;AATA;AAWA,KAjIA;AAkIA;AACA;AACA;AACA;AACA,0BADA;AAEA,sBAFA;AAGA;AAHA;AAKA;AACA,OAPA,MAOA;AACA;AACA,+BADA;AAEA,kDAFA;AAGA,4BAHA;AAIA;AAJA;AAMA;AACA;AACA,KApJA;AAqJA;AACA;AACA;AACA;AACA;AACA,mCADA;AAEA,sBAFA;AAGA;AAHA;AAKA,OANA,MAMA;AACA;AACA;AACA;AAEA,KAnKA;AAoKA;AACA;AACA;AACA;;AAEA,iCACA,IADA,CACA;AACA;AACA,OAHA,EAIA,IAJA,CAIA;AACA;AACA,OANA;AAOA,KAhLA;AAiLA;AACA;AACA;AACA;AACA,iCACA,IADA,CACA;AACA;AACA;AACA,OAJA;AAKA,KA1LA;AA2LA;AACA;AACA;AACA;AACA,iCACA,IADA,CACA;AACA;AACA,OAHA;AAIA,KAnMA;AAoMA;AACA;AACA;AACA;AACA,iCACA,IADA,CACA;AACA;AACA,OAHA;AAIA,KA5MA;AA6MA;AACA;AACA;AACA;AACA,iBADA;AAEA,uBAFA;AAGA,oBAHA;AAIA,sBAJA;AAKA;AACA,8BACA,IADA,CACA;AACA;AACA,kCADA;AAEA,6BAFA;AAGA;AAHA;AAKA,WAPA,EAQA,IARA,CAQA;AACA;AACA,WAVA;AAWA;AAjBA;AAmBA,KAnOA;AAoOA;AACA;AACA;AACA;AACA;AACA;AACA,mCACA,IADA,CACA;AACA;AACA,SAHA;AAIA,OAPA;AAQA,KA/OA;AAgPA;AACA;AACA;AACA;AACA,iBADA;AAEA,uBAFA;AAGA,oBAHA;AAIA,sBAJA;AAKA;AACA,6BACA,IADA,CACA;;AAEA;AACA,kCADA;AAEA,0BAFA;AAGA;AAHA;AAKA,WARA,EASA,IATA,CASA;AACA;AACA;AACA;AACA,WAbA;AAcA;AACA;AArBA;;AAwBA;;;;;;;;;;;;;;;;;;;;;;AAsBA,KAjSA;AAkSA;AACA;AACA;AACA;AACA;AACA;AACA,mCACA,IADA,CACA;AACA;AACA,SAHA;AAIA,OAPA;AAQA;AA7SA,GA5BA;AA2UA;AACA,mCACA,IADA,CACA;AACA;AACA,KAHA,EAIA,IAJA,CAIA;AACA;AACA,KANA,EAOA,IAPA,CAOA;AACA;AACA;AACA,KAVA;AAYA,GAxVA;AAyVA,aAEA;;AA3VA,G;;;;;;;;ACvJA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA,4DAA4D;AAC5D,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,4DAA4D,kBAAkB;AAC9E;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,iBAAiB;AACF,kEAAS;AACxB,IAAI,KAAU;AACd;AACA;AACA;AACA;AACA,C","file":"static/js/pages/shop/main.js","sourcesContent":["import Vue from 'vue'\nimport App from './shop'\n\nconst app = new Vue(App)\napp.$mount()\n\nexport default {\n    config: {\n      navigationBarTitleText: '积分商城'\n    }\n  }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/shop/main.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a3ec2446\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!sass-loader?{\\\"sourceMap\\\":false}!../../../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./shop.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/mpvue-loader/lib/selector?type=script&index=0!./shop.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a3ec2446\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/mpvue-loader/lib/selector?type=template&index=0!./shop.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a3ec2446\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\pages\\\\shop\\\\shop.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] shop.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-a3ec2446\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-a3ec2446\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/shop/shop.vue\n// module id = 54\n// module chunks = 2","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":false,\"sourceMap\":false}!./node_modules/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-a3ec2446\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./node_modules/postcss-loader/lib?{\"sourceMap\":true}!./node_modules/sass-loader/lib/loader.js?{\"sourceMap\":false}!./node_modules/mpvue-loader/lib/selector.js?type=styles&index=0!./src/pages/shop/shop.vue\n// module id = 55\n// module chunks = 2","<template>\n\n  <div>\n    <!--手机获取模态窗-->\n    <modal :hidden=\"modalstate\" title=\"提示\" confirm-text=\"提交\" cancel-text=\"取消\" @cancel=\"cancel()\" @confirm=\"getPhone2()\">  \n      <div class=\"model-msg\">请填写你的手机号码作为唯一凭据</div>\n      <div>\n      <input style=\"border: 2px solid #227D51;border-radius: 5px;width:60%;float:left;height:50rpx\" type=\"text\" placeholder=\"手机号码\" v-model=\"userdata.phone\" auto-focus>\n      <button style=\"width:33%;float:right\" size=\"mini\" open-type=\"getPhoneNumber\" @getphonenumber=\"getPhone\" type=\"primary\">自动获取</button>\n      </div>\n      <div style=\"clear:both\"></div>\n    </modal>\n    <!--规则内容模态窗-->\n    <modal :hidden=\"rulemodal\" title=\"规则\" confirm-text=\"好的\" no-cancel=\"true\" @confirm=\"cancel()\">  \n      <scroll-view  scroll-y=\"true\" class=\"shop-model\">\n        <div>\n          <div>\n            \n            <h2 class=\"h2\">关于积分：</h2>\n            \n            <p>北鼻们签到一次能获得两种积分：\n            <p></p>\n            <p>1、<span style=\"color:red\">排行积分</span>，用于积分排行 </p>\n            <p>2、<span style=\"color:red\">商城积分</span>，两种积分互不干扰，\n              商城积分的使用不会影响北鼻签到总积分的排行榜排名，所以北鼻可尽情冲击21天后的终极大奖噢!</p>\n            \n            <h2 class=\"h2\">关于兑换：</h2>\n            \n            <p>1、商品兑换无日期限制，可持续到所有商品被兑换完毕，但是由于其他意外可能会暂时下架噢</p>\n            <p>2、第一次兑换商品需要手机号呢，这可以为以后我们给北鼻赠送或者补偿提供联络方式</p>\n            <p></p>\n            <h2 class=\"h2\">关于使用：</h2>\n            \n            <p>1、北鼻兑换成功后，到对应的商铺去使用，向店员（或者我们的工作人员）出示该优惠券，并由店员点击使用按钮</p>\n            <p>2、若是北鼻手误点了使用并确认使用，我们也无能为力呢~</p>\n            <p>3、所以北鼻在兑换时请小心使用！</p>\n            <p>-></p>\n            <p>如果兑换失败或者其他问题，请及时在公众号向小北反馈噢</p>\n            <p>-></p>\n            <h2 class=\"h2\">北理小报保留对以上规则的解释权</h2>\n          </div>\n      </div>\n      </scroll-view>\n    </modal>\n    <!--商品内容模态窗-->\n    <modal :hidden=\"shopmodal\" :title=\"shoplins.description\" confirm-text=\"好的\" no-cancel=\"true\" @confirm=\"cancel()\">  \n      <scroll-view  scroll-y=\"true\" class=\"shop-model\">\n        <div>\n          <img class=\"img\" :src=\"shoplins.image\">\n          <div>\n            \n            <h2 class=\"h2\">过期时间：</h2>\n            \n            <p>{{shoplins.soldoutTime}}</p>\n            <p></p>\n            \n            <h2 class=\"h2\">优惠说明：</h2>\n            \n            <p>{{shoplins.couponExplain}} </p>\n            <p></p>\n            \n            <h2 class=\"h2\">使用说明：</h2>\n            \n            <p>{{shoplins.useExplain}}</p>\n          </div>\n      </div>\n      </scroll-view>\n\n    </modal>\n\n    <div class=\"head\">\n        <div class=\"list\" @click=\"toshop()\" :style=\"style1\">商品列表</div>\n        <div class=\"list\" @click=\"tolog()\" :style=\"style2\">兑换记录</div>\n        \n    </div>\n    \n    <div class=\"jifen\" v-if=\"number==1\">\n        <div class=\"yuer\">积分余额</div>\n        <div class=\"jifen-num\">💰{{userdata.jifen}}分</div>\n        <img class=\"rule\" @click=\"showrule()\" src=\"http://image.myzhbit.cn/myzhbit/Getup/index/rule.png\">\n    </div>\n\n    <scroll-view  scroll-y=\"true\" class=\"shop1\" v-if=\"number==1\">\n      <div class=\"shop-list\">\n        <div class=\"shop-item\" v-for=\"sl in shoplist\" :key=\"sl\">\n          <div class=\"shop-msg\" @click=\"shopDetail(sl)\"><!-- :style=\"styleHead+sl.image+styleEnd\"-->\n            <div style=\"padding: 10rpx\">\n              <p style=\"font-size: 50rpx;font-weight: bold;color:black\">{{sl.score}}<span style=\"font-size: 20rpx;\">&nbsp;积分</span></p>\n              <p></p>\n              <p>{{sl.name}}</p>\n              <div class=\"border\"></div>\n              <p style=\"font-size: 25rpx;\">{{sl.description}}</p>\n              \n            </div>\n          </div>\n          <div class=\"shop-msg2\">\n            <div style=\"width:100%;text-align: center;\">\n              <div style=\"color:#5F6263\">还剩<span style=\"color:red\">{{sl.count}}</span>个</div>\n            </div>\n            <div class=\"button\" @click=\"choseshop(sl)\">\n              兑换\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </scroll-view>\n\n    <scroll-view  scroll-y=\"true\" class=\"shop\" v-if=\"number==3\">\n      <div class=\"shop-list\" v-for=\"sl in shoplist\" :key=\"sl\">  \n          <div class=\"shop-item\" @click=\"choseshop(sl)\">\n            <div class=\"shop-img\">\n              <img class=\"shop-img\" :src=\"sl.img\">\n              <div class=\"shop-img2\">&nbsp;&nbsp;&nbsp;{{sl.name2}}</div>\n            </div>\n            <div class=\"shop-msg\">\n              <div class=\"left\">\n                {{sl.name}}\n              </div>\n              <div class=\"right\">\n                💰&nbsp;{{sl.much}}&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;🎁&nbsp;{{sl.left}}\n              </div>\n            </div>\n          </div>\n      </div>\n    </scroll-view>\n    \n    <scroll-view scroll-y=\"true\" class=\"log\" v-if=\"number==2\">\n      <div v-if=\"tick==''\" style=\"text-align: center;margin-top:50rpx;color:#F19483\">你还没有兑换任何奖品噢！</div>\n      <div class=\"log-item\" v-for=\"tk in tick\" :key=\"tk\">\n        <div class=\"log-left\" :style=\"tk.state==0?'background:rgb(110, 101, 98);':''\">\n          <div ><img class=\"log-img\" :src=\"tk.image\"></div>\n          <div class=\"log-msg\">\n            <div style=\"font-weight: bold;\">{{tk.name}}</div>\n            <div>------------------</div>\n            <div style=\"font-size: 25rpx;\">{{tk.state==0?'使用日期':'截止使用'}}:{{tk.state==0?tk.useTime:tk.soldoutTime}}</div>\n          </div>\n          \n        </div>\n        <div class=\"log-right\" @click=\"duihuan(tk)\" :style=\"tk.state==0?'background:rgb(110, 101, 98);margin-left: 10px;':''\">\n          <span>{{tk.state==0?'已使用':'使用'}}</span>\n        </div>\n        \n      </div>\n      <!-- <button   @click=\"getuid()\" type=\"primary\">授权</button> -->\n    </scroll-view>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  components: {\n   \n  },\n\n  data () {\n    return {\n      style1:'border-bottom:1px solid rgb(245,111,97)',\n      style2:'',\n      styleHead:'background-image: url(',\n      styleEnd:')',\n      number:'1',\n      //三个模态窗状态\n      modalstate:true,\n      rulemodal:true,\n      shopmodal:true,\n      session:'',\n      userdata:{\n        phonestatue:'',\n        phone:'',\n        jifen:'', \n      },\n      //商品列表+商品具体信息+优惠券列表\n      shoplist:'',\n      shoplins:'',\n      tick:'',\n    }\n  },\n  methods:{\n    toshop(){\n      this.style1 = 'border-bottom:1px solid rgb(245,111,97)',\n      this.style2 ='',\n      this.number = 1\n    },\n    tolog(){\n      this.style1 = '',\n      this.style2 ='border-bottom:1px solid rgb(245,111,97)',\n      this.number = 2\n    },\n    tel (){\n      this.modalstate=false\n\n    },\n    shopDetail(sll){\n      this.shopmodal=false\n      this.shoplins=sll;\n    },\n    //取消按钮  \n    cancel(){  \n      this.modalstate=true\n      this.rulemodal=true\n      this.shopmodal=true   \n    },  \n    //确认  \n    confirm(){\n      this.modalstate=true \n      wx.showToast({\n        title: '填写成功',\n        icon: 'success',\n        duration: 1000\n      })\n    },\n    //规则\n    showrule(){\n      this.rulemodal=false;\n    },\n    //兑换商品操作\n    choseshop(sl){\n      if(this.userdata.phonestatue==0){\n        this.userdata.phone==''       \n        this.tel();\n      }else{\n        wx.showModal({\n          title: '提示',\n          content: '确定兑换'+sl.name+'吗？',\n          //改成这个样式可以把this传入\n          success:(res)=>{\n            if (res.confirm) {\n              this.useshop(sl);\n            } else if (res.cancel) {\n              //console.log('用户点击取消')\n            }\n          }\n        })        \n      } \n    },\n    //兑换券操作\n    duihuan (tk){\n      //this.userdata.jifen='999'\n      if(tk.state==0){\n        //tk.state='1'\n      }else{\n        wx.showModal({\n          title: '确定兑换'+tk.name+'吗？',\n          content: '非本人兑换，请仔细阅读规则噢!',\n          success:(res)=> {\n            if (res.confirm) {\n              this.usetick(tk.id);\n            } else if (res.cancel) {\n              //console.log('用户点击取消')\n\n            }\n          }\n        })\n      }\n      \n    },\n    //请求获取封装\n    getrequest(url, data){\n      return new Promise(function (resolve, reject){\n        wx.request({\n            url: url,\n            method: 'POST',\n            data: data,\n            header: {\n                'content-type': 'application/x-www-form-urlencoded'\n            },\n            success: function (res) {\n                //console.log(res);\n                resolve(res);\n            },\n            fail: function (res) {\n                reject(res);\n            },\n        });\n      });\n    },\n    //存储获取封装\n    getStorage(key){\n      return new Promise(function (resolve, reject){\n        wx.getStorage({\n            key:key,\n            success: (res)=>{\n              //console.log(res);\n              resolve(res);\n            },\n            fail: function (res){\n              resolve(res);\n            }\n        });\n      });\n    },\n    getuid(){\n        wx.redirectTo({\n          url: '../login/main'\n        })\n        wx.getUserInfo({\n          success: function(res) {\n            var userInfo = res.userInfo\n            var nickName = userInfo.nickName\n            var avatarUrl = userInfo.avatarUrl\n            var gender = userInfo.gender //性别 0：未知、1：男、2：女\n            var province = userInfo.province\n            var city = userInfo.city\n            var country = userInfo.country\n          }\n        })\n    },\n    //自动获取手机按钮\n    getPhone(e){\n      if(e.mp.detail.iv==null){\n        wx.showToast({\n          title: '呜呜，被拒绝了',\n          icon: 'none',\n          duration: 2000\n        })\n        console.log(\"获取手机失败\")\n      }else{\n        var etc={\n          session:this.session,\n          encryptedData:e.mp.detail.encryptedData,\n          iv:e.mp.detail.iv,\n          phone:this.userdata.phone\n        };\n        this.upPhone(etc);\n        }\n    },\n    //手动提交手机\n    getPhone2(){\n      //判断手机号正则\n      if(!(/^1[34578]\\d{9}$/.test(this.userdata.phone))){\n        wx.showToast({\n          title: \"手机号填错啦！！可以试试自动噢~\",\n          icon: 'none',\n          duration: 2000\n        })\n      }else{\n        var etc={session:this.session,encryptedData:'',iv:'',phone:this.userdata.phone}\n        this.upPhone(etc);    \n      }\n\n    },\n    //上传手机请求\n    upPhone(etc){\n      var url='https://myzhbit.cn/getup/web/?r=init/getnumber';\n      var data=etc;\n      \n      this.getrequest(url,data)\n      .then((res)=>{\n        this.confirm();\n      })\n      .then(()=>{\n        this.getuserdata();\n      })\n    },\n    //获取用户信息\n    getuserdata(){\n      var url='https://myzhbit.cn/getup/web/index.php?r=user/userdata';\n      var data={session:this.session};\n      this.getrequest(url,data)\n      .then((res)=>{\n        this.userdata.jifen=res.data.data.shopscore;\n        this.userdata.phonestatue=res.data.data.phonestatue;\n      })\n    },\n    //获取商品信息\n    getshoplist(){\n      var url='https://myzhbit.cn/getup/web/?r=shop/display';\n      var data='';\n      this.getrequest(url,data)\n      .then((res)=>{\n        this.shoplist=res.data.data;\n      })\n    },\n    //获取优惠券\n    gettick(){\n      var url='https://myzhbit.cn/getup/web/?r=shop/coupon';\n      var data={session:this.session};\n      this.getrequest(url,data)\n      .then((res)=>{\n        this.tick=res.data.data;\n      })      \n    },\n    //使用优惠券\n    usetick(tkk){\n      var that = this;\n      wx.showToast({\n        title: \"\",\n        icon: 'loading',\n        mask:'true',\n        duration: 1500,\n        complete: function() {\n          that.usecoupon(tkk)\n          .then((res)=>{\n            wx.showToast({\n              title: res.data.data,\n              icon: 'success',\n              duration: 2000\n            })\n          })\n          .then(()=>{\n            that.gettick();\n          })            \n        }\n      })      \n    },\n    //兑换优惠券请求\n    usecoupon(tkk){\n      var that=this;\n      return new Promise(function (resolve, reject) {\n        var url='https://myzhbit.cn/getup/web/?r=shop/usecoupon';\n        var data={session:that.session,id:tkk};\n        that.getrequest(url,data)\n        .then((res)=>{\n          resolve(res);\n        })\n      })\n    },\n    //兑换商品\n    useshop(sl){\n      var that = this;\n      wx.showToast({\n        title: \"\",\n        icon: 'loading',\n        mask:'true',\n        duration: 1000,\n        complete: function() {\n          that.buycoupon(sl)\n          .then((res)=>{\n            \n            wx.showToast({\n              title: res.data.data,\n              icon: 'none',\n              duration: 2000\n            })\n          })\n          .then(()=>{\n            that.getshoplist();\n            that.getuserdata();\n            that.gettick();\n          })\n          console.log('兑换商品')               \n        }\n      })      \n\n      /*旧逻辑处理\n      if(Number(this.userdata.jifen)>=Number(sl.much) && 0<Number(sl.left)){\n        this.userdata.jifen=this.userdata.jifen-sl.much;\n        sl.left=sl.left-1;\n        wx.showToast({\n          title: '兑换成功',\n          icon: 'success',\n          duration: 1000\n        })\n      }else if(0>=Number(sl.left)){\n        wx.showToast({\n          title: '礼品数量不足！',\n          icon: 'none',\n          duration: 1500\n        })\n      }else if(Number(this.userdata.jifen)<Number(sl.much)){\n        wx.showToast({\n          title: '积分不足！',\n          icon: 'none',\n          duration: 1500\n        })\n      }*/\n    },\n    //兑换商品请求\n    buycoupon(sl){\n      var that=this;\n      return new Promise(function (resolve, reject) {\n        var url='https://myzhbit.cn/getup/web/?r=shop/buycoupon';\n        var data={session:that.session,cid:sl.id,name:sl.name,score:sl.score};\n        that.getrequest(url,data)\n        .then((res)=>{\n          resolve(res);\n        })\n      })      \n    }\n  },\n  onShow(){\n      this.getStorage(\"3rd_session\")\n      .then((res)=>{\n        this.session=res.data;\n      })\n      .then(()=>{\n        this.getuserdata();\n      })\n      .then(()=>{\n        this.getshoplist();\n        this.gettick();\n      })\n\n  },\n  created () {\n  \n  }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import './shop';\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/pages/shop/shop.vue?008133e3","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('modal', {\n    attrs: {\n      \"hidden\": _vm.modalstate,\n      \"title\": \"提示\",\n      \"confirm-text\": \"提交\",\n      \"cancel-text\": \"取消\",\n      \"eventid\": '2',\n      \"mpcomid\": '0'\n    },\n    on: {\n      \"cancel\": function($event) {\n        _vm.cancel()\n      },\n      \"confirm\": function($event) {\n        _vm.getPhone2()\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"model-msg\"\n  }, [_vm._v(\"请填写你的手机号码作为唯一凭据\")]), _vm._v(\" \"), _c('div', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userdata.phone),\n      expression: \"userdata.phone\"\n    }],\n    staticStyle: {\n      \"border\": \"2px solid #227D51\",\n      \"border-radius\": \"5px\",\n      \"width\": \"60%\",\n      \"float\": \"left\",\n      \"height\": \"50rpx\"\n    },\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"手机号码\",\n      \"auto-focus\": \"\",\n      \"eventid\": '0'\n    },\n    domProps: {\n      \"value\": (_vm.userdata.phone)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.userdata.phone = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticStyle: {\n      \"width\": \"33%\",\n      \"float\": \"right\"\n    },\n    attrs: {\n      \"size\": \"mini\",\n      \"open-type\": \"getPhoneNumber\",\n      \"type\": \"primary\",\n      \"eventid\": '1'\n    },\n    on: {\n      \"getphonenumber\": _vm.getPhone\n    }\n  }, [_vm._v(\"自动获取\")])], 1), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"clear\": \"both\"\n    }\n  })]), _vm._v(\" \"), _c('modal', {\n    attrs: {\n      \"hidden\": _vm.rulemodal,\n      \"title\": \"规则\",\n      \"confirm-text\": \"好的\",\n      \"no-cancel\": \"true\",\n      \"eventid\": '3',\n      \"mpcomid\": '1'\n    },\n    on: {\n      \"confirm\": function($event) {\n        _vm.cancel()\n      }\n    }\n  }, [_c('scroll-view', {\n    staticClass: \"shop-model\",\n    attrs: {\n      \"scroll-y\": \"true\"\n    }\n  }, [_c('div', [_c('div', [_c('h2', {\n    staticClass: \"h2\"\n  }, [_vm._v(\"关于积分：\")]), _vm._v(\" \"), _c('p', [_vm._v(\"北鼻们签到一次能获得两种积分：\\n          \")]), _c('p'), _vm._v(\" \"), _c('p', [_vm._v(\"1、\"), _c('span', {\n    staticStyle: {\n      \"color\": \"red\"\n    }\n  }, [_vm._v(\"排行积分\")]), _vm._v(\"，用于积分排行 \")]), _vm._v(\" \"), _c('p', [_vm._v(\"2、\"), _c('span', {\n    staticStyle: {\n      \"color\": \"red\"\n    }\n  }, [_vm._v(\"商城积分\")]), _vm._v(\"，两种积分互不干扰，\\n            商城积分的使用不会影响北鼻签到总积分的排行榜排名，所以北鼻可尽情冲击21天后的终极大奖噢!\")]), _vm._v(\" \"), _c('h2', {\n    staticClass: \"h2\"\n  }, [_vm._v(\"关于兑换：\")]), _vm._v(\" \"), _c('p', [_vm._v(\"1、商品兑换无日期限制，可持续到所有商品被兑换完毕，但是由于其他意外可能会暂时下架噢\")]), _vm._v(\" \"), _c('p', [_vm._v(\"2、第一次兑换商品需要手机号呢，这可以为以后我们给北鼻赠送或者补偿提供联络方式\")]), _vm._v(\" \"), _c('p'), _vm._v(\" \"), _c('h2', {\n    staticClass: \"h2\"\n  }, [_vm._v(\"关于使用：\")]), _vm._v(\" \"), _c('p', [_vm._v(\"1、北鼻兑换成功后，到对应的商铺去使用，向店员（或者我们的工作人员）出示该优惠券，并由店员点击使用按钮\")]), _vm._v(\" \"), _c('p', [_vm._v(\"2、若是北鼻手误点了使用并确认使用，我们也无能为力呢~\")]), _vm._v(\" \"), _c('p', [_vm._v(\"3、所以北鼻在兑换时请小心使用！\")]), _vm._v(\" \"), _c('p', [_vm._v(\"->\")]), _vm._v(\" \"), _c('p', [_vm._v(\"如果兑换失败或者其他问题，请及时在公众号向小北反馈噢\")]), _vm._v(\" \"), _c('p', [_vm._v(\"->\")]), _vm._v(\" \"), _c('h2', {\n    staticClass: \"h2\"\n  }, [_vm._v(\"北理小报保留对以上规则的解释权\")])], 1)])])], 1), _vm._v(\" \"), _c('modal', {\n    attrs: {\n      \"hidden\": _vm.shopmodal,\n      \"title\": _vm.shoplins.description,\n      \"confirm-text\": \"好的\",\n      \"no-cancel\": \"true\",\n      \"eventid\": '4',\n      \"mpcomid\": '2'\n    },\n    on: {\n      \"confirm\": function($event) {\n        _vm.cancel()\n      }\n    }\n  }, [_c('scroll-view', {\n    staticClass: \"shop-model\",\n    attrs: {\n      \"scroll-y\": \"true\"\n    }\n  }, [_c('div', [_c('img', {\n    staticClass: \"img\",\n    attrs: {\n      \"src\": _vm.shoplins.image\n    }\n  }), _vm._v(\" \"), _c('div', [_c('h2', {\n    staticClass: \"h2\"\n  }, [_vm._v(\"过期时间：\")]), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm.shoplins.soldoutTime))]), _vm._v(\" \"), _c('p'), _vm._v(\" \"), _c('h2', {\n    staticClass: \"h2\"\n  }, [_vm._v(\"优惠说明：\")]), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm.shoplins.couponExplain) + \" \")]), _vm._v(\" \"), _c('p'), _vm._v(\" \"), _c('h2', {\n    staticClass: \"h2\"\n  }, [_vm._v(\"使用说明：\")]), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm.shoplins.useExplain))])], 1)])])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"head\"\n  }, [_c('div', {\n    staticClass: \"list\",\n    style: (_vm.style1),\n    attrs: {\n      \"eventid\": '5'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.toshop()\n      }\n    }\n  }, [_vm._v(\"商品列表\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"list\",\n    style: (_vm.style2),\n    attrs: {\n      \"eventid\": '6'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.tolog()\n      }\n    }\n  }, [_vm._v(\"兑换记录\")])]), _vm._v(\" \"), (_vm.number == 1) ? _c('div', {\n    staticClass: \"jifen\"\n  }, [_c('div', {\n    staticClass: \"yuer\"\n  }, [_vm._v(\"积分余额\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"jifen-num\"\n  }, [_vm._v(\"💰\" + _vm._s(_vm.userdata.jifen) + \"分\")]), _vm._v(\" \"), _c('img', {\n    staticClass: \"rule\",\n    attrs: {\n      \"src\": \"http://image.myzhbit.cn/myzhbit/Getup/index/rule.png\",\n      \"eventid\": '7'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.showrule()\n      }\n    }\n  })]) : _vm._e(), _vm._v(\" \"), (_vm.number == 1) ? _c('scroll-view', {\n    staticClass: \"shop1\",\n    attrs: {\n      \"scroll-y\": \"true\"\n    }\n  }, [_c('div', {\n    staticClass: \"shop-list\"\n  }, _vm._l((_vm.shoplist), function(sl, index) {\n    return _c('div', {\n      key: sl,\n      staticClass: \"shop-item\"\n    }, [_c('div', {\n      staticClass: \"shop-msg\",\n      attrs: {\n        \"eventid\": '8-' + index\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.shopDetail(sl)\n        }\n      }\n    }, [_c('div', {\n      staticStyle: {\n        \"padding\": \"10rpx\"\n      }\n    }, [_c('p', {\n      staticStyle: {\n        \"font-size\": \"50rpx\",\n        \"font-weight\": \"bold\",\n        \"color\": \"black\"\n      }\n    }, [_vm._v(_vm._s(sl.score)), _c('span', {\n      staticStyle: {\n        \"font-size\": \"20rpx\"\n      }\n    }, [_vm._v(\" 积分\")])]), _vm._v(\" \"), _c('p'), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(sl.name))]), _vm._v(\" \"), _c('div', {\n      staticClass: \"border\"\n    }), _vm._v(\" \"), _c('p', {\n      staticStyle: {\n        \"font-size\": \"25rpx\"\n      }\n    }, [_vm._v(_vm._s(sl.description))])], 1)]), _vm._v(\" \"), _c('div', {\n      staticClass: \"shop-msg2\"\n    }, [_c('div', {\n      staticStyle: {\n        \"width\": \"100%\",\n        \"text-align\": \"center\"\n      }\n    }, [_c('div', {\n      staticStyle: {\n        \"color\": \"#5F6263\"\n      }\n    }, [_vm._v(\"还剩\"), _c('span', {\n      staticStyle: {\n        \"color\": \"red\"\n      }\n    }, [_vm._v(_vm._s(sl.count))]), _vm._v(\"个\")])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"button\",\n      attrs: {\n        \"eventid\": '9-' + index\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.choseshop(sl)\n        }\n      }\n    }, [_vm._v(\"\\n            兑换\\n          \")])])])\n  }))]) : _vm._e(), _vm._v(\" \"), (_vm.number == 3) ? _c('scroll-view', {\n    staticClass: \"shop\",\n    attrs: {\n      \"scroll-y\": \"true\"\n    }\n  }, _vm._l((_vm.shoplist), function(sl, index) {\n    return _c('div', {\n      key: sl,\n      staticClass: \"shop-list\"\n    }, [_c('div', {\n      staticClass: \"shop-item\",\n      attrs: {\n        \"eventid\": '10-' + index\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.choseshop(sl)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"shop-img\"\n    }, [_c('img', {\n      staticClass: \"shop-img\",\n      attrs: {\n        \"src\": sl.img\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"shop-img2\"\n    }, [_vm._v(\"   \" + _vm._s(sl.name2))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"shop-msg\"\n    }, [_c('div', {\n      staticClass: \"left\"\n    }, [_vm._v(\"\\n              \" + _vm._s(sl.name) + \"\\n            \")]), _vm._v(\" \"), _c('div', {\n      staticClass: \"right\"\n    }, [_vm._v(\"\\n              💰 \" + _vm._s(sl.much) + \"   |   🎁 \" + _vm._s(sl.left) + \"\\n            \")])])])])\n  })) : _vm._e(), _vm._v(\" \"), (_vm.number == 2) ? _c('scroll-view', {\n    staticClass: \"log\",\n    attrs: {\n      \"scroll-y\": \"true\"\n    }\n  }, [(_vm.tick == '') ? _c('div', {\n    staticStyle: {\n      \"text-align\": \"center\",\n      \"margin-top\": \"50rpx\",\n      \"color\": \"#F19483\"\n    }\n  }, [_vm._v(\"你还没有兑换任何奖品噢！\")]) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.tick), function(tk, index) {\n    return _c('div', {\n      key: tk,\n      staticClass: \"log-item\"\n    }, [_c('div', {\n      staticClass: \"log-left\",\n      style: (tk.state == 0 ? 'background:rgb(110, 101, 98);' : '')\n    }, [_c('div', [_c('img', {\n      staticClass: \"log-img\",\n      attrs: {\n        \"src\": tk.image\n      }\n    })]), _vm._v(\" \"), _c('div', {\n      staticClass: \"log-msg\"\n    }, [_c('div', {\n      staticStyle: {\n        \"font-weight\": \"bold\"\n      }\n    }, [_vm._v(_vm._s(tk.name))]), _vm._v(\" \"), _c('div', [_vm._v(\"------------------\")]), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"font-size\": \"25rpx\"\n      }\n    }, [_vm._v(_vm._s(tk.state == 0 ? '使用日期' : '截止使用') + \":\" + _vm._s(tk.state == 0 ? tk.useTime : tk.soldoutTime))])])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"log-right\",\n      style: (tk.state == 0 ? 'background:rgb(110, 101, 98);margin-left: 10px;' : ''),\n      attrs: {\n        \"eventid\": '11-' + index\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.duihuan(tk)\n        }\n      }\n    }, [_c('span', [_vm._v(_vm._s(tk.state == 0 ? '已使用' : '使用'))])])])\n  })], 2) : _vm._e()], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-a3ec2446\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-a3ec2446\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/mpvue-loader/lib/selector.js?type=template&index=0!./src/pages/shop/shop.vue\n// module id = 57\n// module chunks = 2"],"sourceRoot":""}